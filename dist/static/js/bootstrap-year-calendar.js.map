{"version":3,"sources":["../../../static/js/bootstrap-year-calendar.js"],"names":["$","Calendar","element","options","addClass","_initializeEvents","_initializeOptions","_render","prototype","constructor","opt","startYear","isNaN","parseInt","Date","getFullYear","minDate","maxDate","language","dates","allowOverlap","displayWeekNumber","enableRangeSelection","disabledDays","Array","dataSource","style","enableContextMenu","contextMenuItems","_initializeDatasourceColors","renderEnd","bind","renderDay","clickDay","dayContextMenu","selectRange","mouseOnDay","mouseOutDay","i","color","colors","length","empty","_renderHeader","_renderBody","_renderDataSource","_applyEvents","find","fadeIn","_triggerEvent","currentYear","header","document","createElement","headerTable","prevDiv","prevIcon","append","prev2YearDiv","text","prevYearDiv","yearDiv","nextYearDiv","next2YearDiv","nextDiv","nextIcon","monthsDiv","m","monthDiv","data","firstDate","table","thead","titleRow","titleCell","attr","months","headerRow","weekNumberCell","d","weekStart","headerCell","daysMin","currentDate","getTime","lastDate","getDay","setDate","getDate","row","getWeekNumber","cell","cellContent","_this","each","month","monthData","startDate","endDate","push","dayData","_renderDataSourceDay","elt","events","weight","parent","css","boxShadow","click","hasClass","setYear","animate","hide","setTimeout","cells","date","e","stopPropagation","_getDate","which","getEvents","preventDefault","_openContextMenu","mousedown","_mouseDown","_rangeStart","_rangeEnd","_refreshRange","mouseenter","newDate","nextDate","getMonth","oldValue","window","mouseup","mouseleave","setInterval","calendarSize","width","monthSize","first","monthContainerClass","removeClass","beforeRange","afterRange","monthId","contextMenu","eventItem","eventItemContent","name","icon","_renderContextMenuItems","children","offset","left","top","show","one","items","evt","subMenu","visible","menuItem","menuItemContent","index","_getColor","colorString","div","day","closest","year","eventName","parameters","event","Event","trigger","tempDate","setHours","week1","Math","round","getYear","parsedYear","getMinDate","setMinDate","getMaxDate","setMaxDate","getStyle","setStyle","getAllowOverlap","setAllowOverlap","getDisplayWeekNumber","setDisplayWeekNumber","getEnableRangeSelection","setEnableRangeSelection","getDisabledDays","setDisabledDays","getEnableContextMenu","setEnableContextMenu","getContextMenuItems","setContextMenuItems","getLanguage","setLanguage","getDataSource","setDataSource","addEvent","fn","calendar","fct","en","days","daysShort","monthsShort","jQuery"],"mappings":"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","file":"bootstrap-year-calendar.js","sourcesContent":["/* =========================================================\n * Bootstrap year calendar v1.0\n * Repo: https://github.com/Paul-DS/bootstrap-year-calendar\n * =========================================================\n * Created by Paul David-Sivelle\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n(function ($) {\n  var Calendar = function (element, options) {\n    this.element = element;\n    this.element.addClass('calendar');\n    this._initializeEvents(options);\n    this._initializeOptions(options);\n    this._render();\n  };\n\n  Calendar.prototype = {\n    constructor: Calendar,\n    _initializeOptions: function (opt) {\n      if (opt == null) {\n        opt = [];\n      }\n\n      this.options = {\n        startYear: !isNaN(parseInt(opt.startYear)) ? parseInt(opt.startYear) : new Date().getFullYear(),\n        minDate: opt.minDate instanceof Date ? opt.minDate : null,\n        maxDate: opt.maxDate instanceof Date ? opt.maxDate : null,\n        language: (opt.language != null && dates[opt.language] != null) ? opt.language : 'en',\n        allowOverlap: opt.allowOverlap != null ? opt.allowOverlap : true,\n        displayWeekNumber: opt.displayWeekNumber != null ? opt.displayWeekNumber : false,\n        enableRangeSelection: opt.enableRangeSelection != null ? opt.enableRangeSelection : false,\n        disabledDays: opt.disabledDays instanceof Array ? opt.disabledDays : [],\n        dataSource: opt.dataSource instanceof Array != null ? opt.dataSource : [],\n        style: opt.style == 'background' ? 'background' : 'border',\n        enableContextMenu: opt.enableContextMenu != null ? opt.enableContextMenu : false,\n        contextMenuItems: opt.contextMenuItems instanceof Array ? opt.contextMenuItems : []\n      };\n\n      this._initializeDatasourceColors();\n    },\n    _initializeEvents: function (opt) {\n      if (opt == null) {\n        opt = [];\n      }\n\n      if (opt.renderEnd) {\n        this.element.bind('renderEnd', opt.renderEnd);\n      }\n      if (opt.renderDay) {\n        this.element.bind('renderDay', opt.renderDay);\n      }\n      if (opt.clickDay) {\n        this.element.bind('clickDay', opt.clickDay);\n      }\n      if (opt.dayContextMenu) {\n        this.element.bind('dayContextMenu', opt.dayContextMenu);\n      }\n      if (opt.selectRange) {\n        this.element.bind('selectRange', opt.selectRange);\n      }\n      if (opt.mouseOnDay) {\n        this.element.bind('mouseOnDay', opt.mouseOnDay);\n      }\n      if (opt.mouseOutDay) {\n        this.element.bind('mouseOutDay', opt.mouseOutDay);\n      }\n    },\n    _initializeDatasourceColors: function () {\n      for (var i in this.options.dataSource) {\n        if (this.options.dataSource[i].color == null) {\n          this.options.dataSource[i].color = colors[i % colors.length];\n        }\n      }\n    },\n    _render: function () {\n      this.element.empty();\n\n      this._renderHeader();\n      this._renderBody();\n      this._renderDataSource();\n\n      this._applyEvents();\n      this.element.find('.months-container').fadeIn(500);\n\n      this._triggerEvent('renderEnd', {currentYear: this.options.startYear});\n    },\n    _renderHeader: function () {\n      var header = $(document.createElement('div'));\n      header.addClass('calendar-header panel panel-default');\n\n      var headerTable = $(document.createElement('table'));\n\n      var prevDiv = $(document.createElement('th'));\n      prevDiv.addClass('prev');\n\n      if (this.options.minDate != null && this.options.minDate > new Date(this.options.startYear - 1, 11, 31)) {\n        prevDiv.addClass('disabled');\n      }\n\n      var prevIcon = $(document.createElement('span'));\n      prevIcon.addClass('glyphicon glyphicon-chevron-left');\n\n      prevDiv.append(prevIcon);\n\n      headerTable.append(prevDiv);\n\n      var prev2YearDiv = $(document.createElement('th'));\n      prev2YearDiv.addClass('year-title year-neighbor2 hidden-sm hidden-xs');\n      prev2YearDiv.text(this.options.startYear - 2);\n\n      if (this.options.minDate != null && this.options.minDate > new Date(this.options.startYear - 2, 11, 31)) {\n        prev2YearDiv.addClass('disabled');\n      }\n\n      headerTable.append(prev2YearDiv);\n\n      var prevYearDiv = $(document.createElement('th'));\n      prevYearDiv.addClass('year-title year-neighbor hidden-xs');\n      prevYearDiv.text(this.options.startYear - 1);\n\n      if (this.options.minDate != null && this.options.minDate > new Date(this.options.startYear - 1, 11, 31)) {\n        prevYearDiv.addClass('disabled');\n      }\n\n      headerTable.append(prevYearDiv);\n\n      var yearDiv = $(document.createElement('th'));\n      yearDiv.addClass('year-title');\n      yearDiv.text(this.options.startYear);\n\n      headerTable.append(yearDiv);\n\n      var nextYearDiv = $(document.createElement('th'));\n      nextYearDiv.addClass('year-title year-neighbor hidden-xs');\n      nextYearDiv.text(this.options.startYear + 1);\n\n      if (this.options.maxDate != null && this.options.maxDate < new Date(this.options.startYear + 1, 0, 1)) {\n        nextYearDiv.addClass('disabled');\n      }\n\n      headerTable.append(nextYearDiv);\n\n      var next2YearDiv = $(document.createElement('th'));\n      next2YearDiv.addClass('year-title year-neighbor2 hidden-sm hidden-xs');\n      next2YearDiv.text(this.options.startYear + 2);\n\n      if (this.options.maxDate != null && this.options.maxDate < new Date(this.options.startYear + 2, 0, 1)) {\n        next2YearDiv.addClass('disabled');\n      }\n\n      headerTable.append(next2YearDiv);\n\n      var nextDiv = $(document.createElement('th'));\n      nextDiv.addClass('next');\n\n      if (this.options.maxDate != null && this.options.maxDate < new Date(this.options.startYear + 1, 0, 1)) {\n        nextDiv.addClass('disabled');\n      }\n\n      var nextIcon = $(document.createElement('span'));\n      nextIcon.addClass('glyphicon glyphicon-chevron-right');\n\n      nextDiv.append(nextIcon);\n\n      headerTable.append(nextDiv);\n\n      header.append(headerTable);\n\n      this.element.append(header);\n    },\n    _renderBody: function () {\n      var monthsDiv = $(document.createElement('div'));\n      monthsDiv.addClass('months-container');\n      for (var m = 0; m < 12; m++) {\n        /* Container */\n        var monthDiv = $(document.createElement('div'));\n        monthDiv.addClass('month-container');\n        monthDiv.data('month-id', m);\n\n        var firstDate = new Date(this.options.startYear, m, 1);\n\n        var table = $(document.createElement('table'));\n        table.addClass('month');\n\n        /* Month header */\n        var thead = $(document.createElement('thead'));\n\n        var titleRow = $(document.createElement('tr'));\n\n        var titleCell = $(document.createElement('th'));\n        titleCell.addClass('month-title');\n        titleCell.attr('colspan', this.options.displayWeekNumber ? 8 : 7);\n        titleCell.text(dates[this.options.language].months[m]);\n\n        titleRow.append(titleCell);\n        thead.append(titleRow);\n\n        var headerRow = $(document.createElement('tr'));\n\n        if (this.options.displayWeekNumber) {\n          var weekNumberCell = $(document.createElement('th'));\n          weekNumberCell.addClass('week-number');\n          weekNumberCell.text('W')\n          headerRow.append(weekNumberCell);\n        }\n\n        var d = dates[this.options.language].weekStart;\n        do\n        {\n          var headerCell = $(document.createElement('th'));\n          headerCell.addClass('day-header');\n          headerCell.text(dates[this.options.language].daysMin[d]);\n\n          headerRow.append(headerCell);\n\n          d++;\n          if (d >= 7)\n            d = 0;\n        }\n        while (d != dates[this.options.language].weekStart)\n\n        thead.append(headerRow);\n        table.append(thead);\n\n        /* Days */\n        var currentDate = new Date(firstDate.getTime());\n        var lastDate = new Date(this.options.startYear, m + 1, 0);\n\n        var weekStart = dates[this.options.language].weekStart\n\n        while (currentDate.getDay() != weekStart) {\n          currentDate.setDate(currentDate.getDate() - 1);\n        }\n\n        while (currentDate < lastDate) {\n          var row = $(document.createElement('tr'));\n\n          if (this.options.displayWeekNumber) {\n            var weekNumberCell = $(document.createElement('td'));\n            weekNumberCell.addClass('week-number');\n            weekNumberCell.text(this.getWeekNumber(currentDate));\n            row.append(weekNumberCell);\n          }\n\n          do\n          {\n            var cell = $(document.createElement('td'));\n            cell.addClass('day');\n\n            if (currentDate < firstDate) {\n              cell.addClass('old');\n            }\n            else if (currentDate > lastDate) {\n              cell.addClass('new');\n            }\n            else {\n              if ((this.options.minDate != null && currentDate < this.options.minDate) || (this.options.maxDate != null && currentDate > this.options.maxDate)) {\n                cell.addClass('disabled');\n              }\n              else if (this.options.disabledDays.length > 0) {\n                for (var d in this.options.disabledDays) {\n                  if (currentDate.getTime() == this.options.disabledDays[d].getTime()) {\n                    cell.addClass('disabled');\n                    break;\n                  }\n                }\n              }\n\n              var cellContent = $(document.createElement('div'));\n              cellContent.addClass('day-content');\n              cellContent.text(currentDate.getDate());\n              cell.append(cellContent);\n            }\n\n            row.append(cell);\n\n            currentDate.setDate(currentDate.getDate() + 1);\n          }\n          while (currentDate.getDay() != weekStart)\n\n          table.append(row);\n        }\n\n        monthDiv.append(table);\n\n        monthsDiv.append(monthDiv);\n      }\n\n      this.element.append(monthsDiv);\n    },\n    _renderDataSource: function () {\n      var _this = this;\n      if (this.options.dataSource != null && this.options.dataSource.length > 0) {\n        this.element.find('.month-container').each(function () {\n          var month = $(this).data('month-id');\n\n          var firstDate = new Date(_this.options.startYear, month, 1);\n          var lastDate = new Date(_this.options.startYear, month + 1, 0);\n\n          if ((_this.options.minDate == null || lastDate >= _this.options.minDate) && (_this.options.maxDate == null || firstDate <= _this.options.maxDate)) {\n            var monthData = [];\n\n            for (var i in _this.options.dataSource) {\n              if (!(_this.options.dataSource[i].startDate > lastDate) || (_this.options.dataSource[i].endDate < firstDate)) {\n                monthData.push(_this.options.dataSource[i]);\n              }\n            }\n\n            if (monthData.length > 0) {\n              $(this).find('.day-content').each(function () {\n                var currentDate = new Date(_this.options.startYear, month, $(this).text());\n\n                var dayData = [];\n\n                if ((_this.options.minDate == null || currentDate >= _this.options.minDate) && (_this.options.maxDate == null || currentDate <= _this.options.maxDate)) {\n                  for (var i in monthData) {\n                    if (monthData[i].startDate <= currentDate && monthData[i].endDate >= currentDate) {\n                      dayData.push(monthData[i]);\n                    }\n                  }\n\n                  if (dayData.length > 0) {\n                    _this._renderDataSourceDay($(this), dayData);\n                  }\n                }\n              });\n            }\n          }\n        });\n      }\n    },\n    _renderDataSourceDay: function (elt, events) {\n      switch (this.options.style) {\n        case 'border':\n          var weight = 0;\n\n          if (events.length == 1) {\n            weight = 4;\n          }\n          else if (events.length <= 3) {\n            weight = 2;\n          }\n          else {\n            elt.parent().css('box-shadow', 'inset 0 -4px 0 0 black');\n          }\n\n          if (weight > 0) {\n            var boxShadow = '';\n\n            for (var i in events) {\n              if (boxShadow != '') {\n                boxShadow += \",\";\n              }\n\n              boxShadow += 'inset 0 -' + (parseInt(i) + 1) * weight + 'px 0 0 ' + events[i].color;\n            }\n\n            elt.parent().css('box-shadow', boxShadow);\n          }\n          break;\n\n        case 'background':\n          elt.parent().css('background-color', events[events.length - 1].color);\n          break;\n      }\n    },\n    _applyEvents: function () {\n      var _this = this;\n\n      /* Header buttons */\n      this.element.find('.year-neighbor, .year-neighbor2').click(function () {\n        if (!$(this).hasClass('disabled')) {\n          _this.setYear(parseInt($(this).text()));\n        }\n      });\n\n      this.element.find('.calendar-header .prev').click(function () {\n        if (!$(this).hasClass('disabled')) {\n          _this.element.find('.months-container').animate({'margin-left': '100%'}, 100, function () {\n            _this.element.find('.months-container').hide();\n            _this.element.find('.months-container').css('margin-left', '0');\n            setTimeout(function () {\n              _this.setYear(_this.options.startYear - 1)\n            }, 50);\n          });\n        }\n      });\n\n      this.element.find('.calendar-header .next').click(function () {\n        if (!$(this).hasClass('disabled')) {\n          _this.element.find('.months-container').animate({'margin-left': '-100%'}, 100, function () {\n            _this.element.find('.months-container').hide();\n            _this.element.find('.months-container').css('margin-left', '0');\n            setTimeout(function () {\n              _this.setYear(_this.options.startYear + 1)\n            }, 50);\n          });\n        }\n      });\n\n      var cells = this.element.find('.day:not(.old, .new, .disabled)');\n\n      /* Day rendering */\n      this.element.find('.month-container').each(function () {\n        var month = $(this).data('month-id');\n        $(this).find('.day-content').each(function () {\n          _this._triggerEvent('renderDay', {\n            element: $(this),\n            date: new Date(_this.options.startYear, month, $(this).text())\n          });\n        });\n      });\n\n      /* Click on date */\n      cells.click(function (e) {\n        e.stopPropagation();\n        var date = _this._getDate($(this));\n        _this._triggerEvent('clickDay', {\n          element: $(this),\n          which: e.which,\n          date: date,\n          events: _this.getEvents(date)\n        });\n      });\n\n      /* Click right on date */\n\n      cells.bind('contextmenu', function (e) {\n        if (_this.options.enableContextMenu) {\n          e.preventDefault();\n          if (_this.options.contextMenuItems.length > 0) {\n            _this._openContextMenu($(this));\n          }\n        }\n\n        var date = _this._getDate($(this));\n        _this._triggerEvent('dayContextMenu', {\n          element: $(this),\n          date: date,\n          events: _this.getEvents(date)\n        });\n      });\n\n      /* Range selection */\n      if (this.options.enableRangeSelection) {\n        cells.mousedown(function (e) {\n          if (e.which == 1) {\n            var currentDate = _this._getDate($(this));\n\n            if (_this.options.allowOverlap || _this.getEvents(currentDate).length == 0) {\n              _this._mouseDown = true;\n              _this._rangeStart = _this._rangeEnd = currentDate;\n              _this._refreshRange();\n            }\n          }\n        });\n\n        cells.mouseenter(function (e) {\n          if (_this._mouseDown) {\n            var currentDate = _this._getDate($(this));\n\n            if (!_this.options.allowOverlap) {\n              var newDate = new Date(_this._rangeStart.getTime());\n\n              if (newDate < currentDate) {\n                var nextDate = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate() + 1);\n                while (newDate < currentDate) {\n                  if (_this.getEvents(nextDate).length > 0) {\n                    break;\n                  }\n\n                  newDate.setDate(newDate.getDate() + 1);\n                  nextDate.setDate(nextDate.getDate() + 1);\n                }\n              }\n              else {\n                var nextDate = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate() - 1);\n                while (newDate > currentDate) {\n                  if (_this.getEvents(nextDate).length > 0) {\n                    break;\n                  }\n\n                  newDate.setDate(newDate.getDate() - 1);\n                  nextDate.setDate(nextDate.getDate() - 1);\n                }\n              }\n\n              currentDate = newDate;\n            }\n\n            var oldValue = _this._rangeEnd;\n            _this._rangeEnd = currentDate;\n\n            if (oldValue.getTime() != _this._rangeEnd.getTime()) {\n              _this._refreshRange();\n            }\n          }\n        });\n\n        $(window).mouseup(function (e) {\n          if (_this._mouseDown) {\n            _this._mouseDown = false;\n            _this._refreshRange();\n\n            var minDate = _this._rangeStart < _this._rangeEnd ? _this._rangeStart : _this._rangeEnd;\n            var maxDate = _this._rangeEnd > _this._rangeStart ? _this._rangeEnd : _this._rangeStart;\n\n            _this._triggerEvent('selectRange', {startDate: minDate, endDate: maxDate});\n          }\n        });\n      }\n\n      /* Hover date */\n      cells.mouseenter(function (e) {\n        if (!_this._mouseDown) {\n          var date = _this._getDate($(this));\n          _this._triggerEvent('mouseOnDay', {\n            element: $(this),\n            date: date,\n            events: _this.getEvents(date)\n          });\n        }\n      });\n\n      cells.mouseleave(function (e) {\n        var date = _this._getDate($(this));\n        _this._triggerEvent('mouseOutDay', {\n          element: $(this),\n          date: date,\n          events: _this.getEvents(date)\n        });\n      });\n\n      /* Responsive management */\n\n      setInterval(function () {\n        var calendarSize = $(_this.element).width();\n        var monthSize = $(_this.element).find('.month').first().width() + 10;\n        var monthContainerClass = 'month-container';\n\n        if (monthSize * 6 < calendarSize) {\n          monthContainerClass += ' col-xs-2';\n        }\n        else if (monthSize * 4 < calendarSize) {\n          monthContainerClass += ' col-xs-3';\n        }\n        else if (monthSize * 3 < calendarSize) {\n          monthContainerClass += ' col-xs-4';\n        }\n        else if (monthSize * 2 < calendarSize) {\n          monthContainerClass += ' col-xs-6';\n        }\n        else {\n          monthContainerClass += ' col-xs-12';\n        }\n\n        $(_this.element).find('.month-container').attr('class', monthContainerClass);\n      }, 300);\n    },\n    _refreshRange: function () {\n      var _this = this;\n\n      this.element.find('td.day.range').removeClass('range')\n      this.element.find('td.day.range-start').removeClass('range-start');\n      this.element.find('td.day.range-end').removeClass('range-end');\n\n      if (this._mouseDown) {\n        var beforeRange = true;\n        var afterRange = false;\n        var minDate = _this._rangeStart < _this._rangeEnd ? _this._rangeStart : _this._rangeEnd;\n        var maxDate = _this._rangeEnd > _this._rangeStart ? _this._rangeEnd : _this._rangeStart;\n\n        this.element.find('.month-container').each(function () {\n          var monthId = $(this).data('month-id');\n          if (minDate.getMonth() <= monthId && maxDate.getMonth() >= monthId) {\n            $(this).find('td.day:not(.old, .new)').each(function () {\n              var date = _this._getDate($(this));\n              if (date >= minDate && date <= maxDate) {\n                $(this).addClass('range');\n\n                if (date.getTime() == minDate.getTime()) {\n                  $(this).addClass('range-start');\n                }\n\n                if (date.getTime() == maxDate.getTime()) {\n                  $(this).addClass('range-end');\n                }\n              }\n            });\n          }\n        });\n      }\n    },\n    _openContextMenu: function (elt) {\n      var contextMenu = $('.calendar-context-menu');\n\n      if (contextMenu.length > 0) {\n        contextMenu.hide();\n        contextMenu.empty();\n      }\n      else {\n        contextMenu = $(document.createElement('div'));\n        contextMenu.addClass('calendar-context-menu');\n        $('body').append(contextMenu);\n      }\n\n      var date = this._getDate(elt);\n      var events = this.getEvents(date);\n\n      for (var i in events) {\n        var eventItem = $(document.createElement('div'));\n        eventItem.addClass('item');\n        eventItem.css('border-left', '4px solid ' + events[i].color);\n\n        var eventItemContent = $(document.createElement('div'));\n        eventItemContent.addClass('content');\n        eventItemContent.text(events[i].name);\n\n        eventItem.append(eventItemContent);\n\n        var icon = $(document.createElement('span'));\n        icon.addClass('glyphicon glyphicon-chevron-right');\n\n        eventItem.append(icon);\n\n        this._renderContextMenuItems(eventItem, this.options.contextMenuItems, events[i]);\n\n        contextMenu.append(eventItem);\n      }\n\n      if (contextMenu.children().length > 0) {\n        contextMenu.css('left', elt.offset().left + 25 + 'px');\n        contextMenu.css('top', elt.offset().top + 25 + 'px');\n        contextMenu.show();\n\n        $(window).one('mouseup', function () {\n          contextMenu.hide();\n        });\n      }\n    },\n    _renderContextMenuItems: function (parent, items, evt) {\n      var subMenu = $(document.createElement('div'));\n      subMenu.addClass('submenu');\n\n      for (var i in items) {\n        if (!items[i].visible || items[i].visible(evt)) {\n          var menuItem = $(document.createElement('div'));\n          menuItem.addClass('item');\n\n          var menuItemContent = $(document.createElement('div'));\n          menuItemContent.addClass('content');\n          menuItemContent.text(items[i].text);\n\n          menuItem.append(menuItemContent);\n\n          if (items[i].click) {\n            (function (index) {\n              menuItem.click(function () {\n                items[index].click(evt);\n              });\n            })(i);\n          }\n\n          var icon = $(document.createElement('span'));\n          icon.addClass('glyphicon glyphicon-chevron-right');\n\n          menuItem.append(icon);\n\n          if (items[i].items && items[i].items.length > 0) {\n            this._renderContextMenuItems(menuItem, items[i].items, evt);\n          }\n\n          subMenu.append(menuItem);\n        }\n      }\n\n      if (subMenu.children().length > 0) {\n        parent.append(subMenu);\n      }\n    },\n    _getColor: function (colorString) {\n      var div = $('<div />');\n      div.css('color', colorString);\n\n    },\n    _getDate: function (elt) {\n      var day = elt.children('.day-content').text();\n      var month = elt.closest('.month-container').data('month-id');\n      var year = this.options.startYear;\n\n      return new Date(year, month, day);\n    },\n    _triggerEvent: function (eventName, parameters) {\n      var event = $.Event(eventName);\n\n      for (var i in parameters) {\n        event[i] = parameters[i];\n      }\n\n      this.element.trigger(event);\n    },\n    getWeekNumber: function (date) {\n      var tempDate = new Date(date.getTime());\n      tempDate.setHours(0, 0, 0, 0);\n      tempDate.setDate(tempDate.getDate() + 3 - (tempDate.getDay() + 6) % 7);\n      var week1 = new Date(tempDate.getFullYear(), 0, 4);\n      return 1 + Math.round(((tempDate.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);\n    },\n    getEvents: function (date) {\n      var events = [];\n\n      if (this.options.dataSource && date) {\n        for (var i in this.options.dataSource) {\n          if (this.options.dataSource[i].startDate <= date && this.options.dataSource[i].endDate >= date) {\n            events.push(this.options.dataSource[i]);\n          }\n        }\n      }\n\n      return events;\n    },\n    getYear: function () {\n      return this.options.startYear;\n    },\n    setYear: function (year) {\n      var parsedYear = parseInt(year);\n      if (!isNaN(parsedYear)) {\n        this.options.startYear = parsedYear;\n        this._render();\n      }\n    },\n    getMinDate: function () {\n      return this.options.minDate;\n    },\n    setMinDate: function (date) {\n      if (date instanceof Date) {\n        this.options.minDate = date;\n        this._render();\n      }\n    },\n    getMaxDate: function () {\n      return this.options.maxDate;\n    },\n    setMaxDate: function (date) {\n      if (date instanceof Date) {\n        this.options.maxDate = date;\n        this._render();\n      }\n    },\n    getStyle: function () {\n      return this.options.style;\n    },\n    setStyle: function (style) {\n      this.options.style = style == 'background' ? 'background' : 'border';\n      this._render();\n    },\n    getAllowOverlap: function () {\n      return this.options.allowOverlap;\n    },\n    setAllowOverlap: function (allowOverlap) {\n      this.options.allowOverlap = allowOverlap;\n    },\n    getDisplayWeekNumber: function () {\n      return this.options.displayWeekNumber;\n    },\n    setDisplayWeekNumber: function (displayWeekNumber) {\n      this.options.displayWeekNumber = displayWeekNumber;\n      this._render();\n    },\n    getEnableRangeSelection: function () {\n      return this.options.enableRangeSelection;\n    },\n    setEnableRangeSelection: function (enableRangeSelection) {\n      this.options.enableRangeSelection = enableRangeSelection;\n      this._render();\n    },\n    getDisabledDays: function () {\n      return this.options.disabledDays;\n    },\n    setDisabledDays: function (disabledDays) {\n      this.options.disabledDays = disabledDays instanceof Array ? disabledDays : [];\n      this._render();\n    },\n    getEnableContextMenu: function () {\n      return this.options.enableContextMenu;\n    },\n    setEnableContextMenu: function (enableContextMenu) {\n      this.options.enableContextMenu = enableContextMenu;\n      this._render();\n    },\n    getContextMenuItems: function () {\n      return this.options.contextMenuItems;\n    },\n    setContextMenuItems: function (contextMenuItems) {\n      this.options.contextMenuItems = contextMenuItems instanceof Array ? contextMenuItems : [];\n      this._render();\n    },\n    getLanguage: function () {\n      return this.options.language;\n    },\n    setLanguage: function (language) {\n      if (language != null && dates[language] != null) {\n        this.options.language = language;\n        this._render();\n      }\n    },\n    getDataSource: function () {\n      return this.options.dataSource;\n    },\n    setDataSource: function (dataSource) {\n      this.options.dataSource = dataSource instanceof Array ? dataSource : [];\n      this._initializeDatasourceColors();\n      this._render();\n    },\n    addEvent: function (evt) {\n      this.options.dataSource.push(evt);\n      this._render();\n    }\n  }\n\n  $.fn.calendar = function (options) {\n    var calendar = new Calendar($(this), options);\n    $(this).data('calendar', calendar);\n  }\n\n  /* Events binding management */\n  $.fn.renderEnd = function (fct) {\n    $(this).bind('renderEnd', fct);\n  }\n  $.fn.renderDay = function (fct) {\n    $(this).bind('renderDay', fct);\n  }\n  $.fn.clickDay = function (fct) {\n    $(this).bind('clickDay', fct);\n  }\n  $.fn.dayContextMenu = function (fct) {\n    $(this).bind('dayContextMenu', fct);\n  }\n  $.fn.selectRange = function (fct) {\n    $(this).bind('selectRange', fct);\n  }\n  $.fn.mouseOnDay = function (fct) {\n    $(this).bind('mouseOnDay', fct);\n  }\n  $.fn.mouseOutDay = function (fct) {\n    $(this).bind('mouseOutDay', fct);\n  }\n\n  var dates = $.fn.calendar.dates = {\n    en: {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\n      months: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      weekStart: 0\n    }\n  };\n\n  var colors = $.fn.calendar.colors = ['#EA5A49', '#4A90E2', '#44CC00', '#FFBD17', '#11C1F3', '#484746'];\n\n  $(function () {\n    $('[data-provide=\"calendar\"]').each(function () {\n      $(this).calendar();\n    });\n  });\n}(window.jQuery));\n"]}