{"version":3,"sources":["../../../../src/store/modules/app.js"],"names":["app","state","routers","menuList","tagsList","children","pageOpenedList","currentPageName","currentPath","title","path","name","openedSubmenuArr","menuTheme","theme","todayWeather","currentWindowWidth","mutations","getWindowWidth","width","setTagsList","list","push","inCreateTag","tagObj","splice","removeTag","map","item","index","moveToSecond","openedPage","localStorage","JSON","stringify","setOpenedList","parse","setCurrentPath","pathArr","setCurrentPageName","addOpenSubmenu","hasThisName","isEmpty","length","indexOf","clearOpenedSubmenu","changeMenuTheme","changeMainTheme","mainTheme","setMenuList","updateMenuList","accessCode","parseInt","get","forEach","access","undefined","showThisRoute","i","childrenArr","filter","child","setAvator","avatorImgPath","getTodayWeather","weather","actions"],"mappings":"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","file":"app.js","sourcesContent":["import {otherRouter, appRouter} from '../../router';\nimport Cookies from 'js-cookie';\nimport Util from \"util\"\n\nconst app = {\n  state: {\n    routers: [\n      otherRouter,\n      ...appRouter\n    ],\n    menuList: [],\n    tagsList: [...otherRouter.children],\n    pageOpenedList: [],\n    currentPageName: '',\n    currentPath: [\n      {\n        title: '首页',\n        path: '',\n        name: 'home_index'\n      }\n    ],  // 面包屑数组\n    openedSubmenuArr: [],  // 要展开的菜单数组\n    menuTheme: '', // 主题\n    theme: '',\n    todayWeather: null,\n    currentWindowWidth: null\n  },\n  mutations: {\n    getWindowWidth (state, width){\n      \"use strict\";\n      state.currentWindowWidth = width\n    },\n    setTagsList (state, list) {\n      state.tagsList.push(...list);\n    },\n    inCreateTag (state, tagObj) {\n      state.pageOpenedList.splice(1, 0, tagObj);\n    },\n    removeTag (state, name) {\n      state.pageOpenedList.map((item, index) => {\n        if (item.name === name) {\n          state.pageOpenedList.splice(index, 1);\n        }\n      });\n    },\n    moveToSecond (state, index) {\n      let openedPage = state.pageOpenedList[index];\n      state.pageOpenedList.splice(index, 1);\n      state.pageOpenedList.splice(1, 0, openedPage);\n      localStorage.pageOpenedList = JSON.stringify(state.pageOpenedList);\n    },\n    setOpenedList (state) {\n      state.pageOpenedList = localStorage.pageOpenedList ? JSON.parse(localStorage.pageOpenedList) : [otherRouter.children[0]];\n    },\n    setCurrentPath (state, pathArr) {\n      state.currentPath = pathArr;\n    },\n    setCurrentPageName (state, name) {\n      state.currentPageName = name;\n    },\n    addOpenSubmenu (state, name) {\n      let hasThisName = false;\n      let isEmpty = false;\n      if (name.length === 0) {\n        isEmpty = true;\n      }\n      if (state.openedSubmenuArr.indexOf(name) > -1) {\n        hasThisName = true;\n      }\n      if (!hasThisName && !isEmpty) {\n        state.openedSubmenuArr.push(name);\n      }\n    },\n    clearOpenedSubmenu (state) {\n      state.openedSubmenuArr.length = 0;\n    },\n    changeMenuTheme (state, theme) {\n      state.menuTheme = theme;\n    },\n    changeMainTheme (state, mainTheme) {\n      state.theme = mainTheme;\n    },\n    setMenuList (state, menuList) {\n      state.menuList = menuList;\n    },\n    updateMenuList (state) {\n      let accessCode = parseInt(Cookies.get('access'));\n      let menuList = [];\n      appRouter.forEach((item, index) => {\n        if (item.access !== undefined) {\n          if (Util.showThisRoute(item.access, accessCode)) {\n            if (item.children.length <= 1) {\n              menuList.push(item);\n            } else {\n              let i = menuList.push(item);\n              let childrenArr = [];\n              childrenArr = item.children.filter(child => {\n                if (child.access !== undefined) {\n                  if (child.access === accessCode) {\n                    return child;\n                  }\n                } else {\n                  return child;\n                }\n              });\n              menuList[i - 1].children = childrenArr;\n            }\n          }\n        } else {\n          if (item.children.length <= 1) {\n            menuList.push(item);\n          } else {\n            let childrenArr = [];\n            let i = menuList.push(item);\n            childrenArr = item.children.filter(child => {\n              if (child.access !== undefined) {\n                if (Util.showThisRoute(child.access, accessCode)) {\n                  return child;\n                }\n              } else {\n                return child;\n              }\n            });\n            menuList[i - 1].children = childrenArr;\n          }\n        }\n      });\n      state.menuList = menuList;\n    },\n    setAvator (state, path) {\n      localStorage.avatorImgPath = path;\n    },\n    getTodayWeather(state, weather){\n      state.todayWeather = weather\n    }\n  },\n  actions: {}\n};\nexport default app;"]}